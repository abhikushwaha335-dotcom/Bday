<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Bhaiya</title>
    <style>
        /* Reset & Base Styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { height: 100vh; overflow: hidden; font-family: 'Arial', sans-serif; }

        /* =========================================
           REALISTIC GIFT BOX & SPARKLING NIGHT
        ========================================= */
        #gift-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            /* Clear Night Sky Background */
            background: radial-gradient(circle at center, #0a1128 0%, #000105 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s ease-out, visibility 1s;
        }

        /* Twinkling Stars */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); box-shadow: 0 0 10px white; }
        }

        .gift-container {
            cursor: pointer;
            position: relative;
            animation: jump 1.5s infinite ease-in-out;
            z-index: 2;
        }

        /* Realistic Gift Box Body */
        .gift-box {
            width: 160px;
            height: 140px;
            position: relative;
            background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);
            border-radius: 0 0 8px 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.8), inset 0 -10px 20px rgba(0,0,0,0.2);
        }

        /* Gold Ribbon on Body */
        .gift-box::before { 
            content: ''; position: absolute;
            width: 30px; height: 100%;
            left: 50%; transform: translateX(-50%);
            background: linear-gradient(90deg, #ffd700, #fff2ac, #ffd700, #bf953f);
            box-shadow: 2px 0 5px rgba(0,0,0,0.2);
        }

        /* Realistic Lid */
        .lid {
            width: 176px; height: 45px;
            position: absolute;
            top: -42px; left: -8px;
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            border-radius: 6px;
            z-index: 3;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transform-origin: bottom right;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Ribbon on Lid */
        .lid::before { 
            content: ''; position: absolute;
            width: 30px; height: 100%;
            left: 50%; transform: translateX(-50%);
            background: linear-gradient(90deg, #ffd700, #fff2ac, #ffd700);
        }

        /* Realistic Ribbon Bow */
        .lid::after {
            content: 'ðŸŽ€';
            position: absolute;
            top: -35px; left: 50%;
            transform: translateX(-50%);
            font-size: 50px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        .promo-text {
            color: #fff;
            margin-top: 60px;
            font-size: 1.5rem;
            text-align: center;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(255,255,255,0.8);
            animation: textGlow 2s infinite alternate;
        }

        @keyframes textGlow {
            from { opacity: 0.7; text-shadow: 0 0 5px #fff; }
            to { opacity: 1; text-shadow: 0 0 20px #ffd700; }
        }

        @keyframes jump {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-30px) rotate(2deg); }
        }

.open-lid { transform: rotateZ(110deg) translateY(-20px); }
        .fade-out { opacity: 0; visibility: hidden; pointer-events: none; }

        /* =========================================
           MAIN BIRTHDAY PAGE STYLES (ORIGINAL)
        ========================================= */
        #main-content {
            opacity: 0;
            display: none;
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #feca57, #ff9ff3, #54a0ff);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            transition: opacity 1s ease-in;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container { text-align: center; z-index: 10; position: relative; display: flex; flex-direction: column; align-items: center; width: 100%; }
        .birthday-text { font-size: 3rem; background: linear-gradient(45deg, #fff, #ffd700); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 5px; animation: bounce 2s infinite; text-shadow: 0 0 20px rgba(255,255,255,0.5); }
        .name { font-size: 2.5rem; color: white; margin-bottom: 10px; animation: glow 2s ease-in-out infinite alternate; }
        .photo-gallery { perspective: 1200px; width: 100%; height: 220px; margin: 30px 0; display: flex; justify-content: center; align-items: center; }
        .carousel-box { width: 150px; height: 180px; position: relative; transform-style: preserve-3d; animation: rotateGallery 15s linear infinite; }
        @keyframes rotateGallery { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }
        .photo-item { position: absolute; width: 140px; height: 170px; border: 4px solid white; border-radius: 10px; box-shadow: 0 8px 25px rgba(0,0,0,0.3); overflow: hidden; background: rgba(255,255,255,0.2); }
        .photo-item img { width: 100%; height: 100%; object-fit: auto; }
        .blessing { color: crimson; font-family: sans-serif; font-size: 1.3rem; margin-top: 15px; text-shadow: 1px 1px 2px white; }
        .quote { font-size: 1.1rem; color: white; margin: 15px 20px; max-width: 500px; font-style: italic; }
        .music-control { position: fixed; top: 20px; right: 20px; background: rgba(255,255,255,0.3); border: none; border-radius: 50%; width: 50px; height: 50px; color: white; font-size: 1.2rem; cursor: pointer; backdrop-filter: blur(10px); z-index: 100; }
        .cake { font-size: 3rem; animation: cakeWiggle 3s ease-in-out infinite; }
        .heart { position: absolute; font-size: 1.5rem; color: #ff69b4; animation: heartFloat 4s linear forwards; pointer-events: none; }
        @keyframes heartFloat { 0% { transform: translateY(100vh) scale(0); opacity: 1; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }
    </style>
</head>
<body>

    <div id="gift-screen">
        <div id="starField"></div>
        <div class="gift-container" onclick="revealBirthday()">
            <div class="lid" id="boxLid"></div>
            <div class="gift-box"></div>
        </div>
        <div class="promo-text">
            Something wonderful is inside for you, Bhaiya...<br>
            <strong>âœ¨ Touch the gift to reveal âœ¨</strong>
        </div>
    </div>

    <div id="main-content">
        <button class="music-control" id="musicBtn" onclick="toggleMusic()">ðŸŽµ</button>
        <div class="container">
            <div class="cake">ðŸŽ‚</div>
            <h1 class="birthday-text">Happy Birthday!</h1>
            <h2 class="name" id="personName">Bhaiya</h2>
            <div class="photo-gallery"><div class="carousel-box" id="carousel"></div></div>
            <h2 class="blessing">Mahadev Bless u my Big Brother..</h2>
            <p class="quote">"On your special day, may every wish you've ever made come true. 
            Your smile lights up our world! ðŸŒŸ"</p>
        </div>
        <div id="heartsContainer"></div>
    </div>

    <audio id="bgMusic" loop>
        <source src="birthday_song.mpeg" type="audio/mpeg">
    </audio>

    <script>
        // 1. Generate Sparkling Stars
        const starField = document.getElementById('starField');
        for (let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 3 + 'px';
            star.style.width = size;
            star.style.height = size;
            star.style.top = Math.random() * 100 + '%';
            star.style.left = Math.random() * 100 + '%';
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            starField.appendChild(star);
        }

        const birthdayPerson = "Bhaiya!!";
        document.getElementById('personName').textContent = birthdayPerson;

        // Photo Config
        const photoUrls = ['img1.jpeg', 'img2.jpeg', 'img3.jpeg', 'img4.jpeg', 'img5.jpeg'];
        const carousel = document.getElementById('carousel');
        const totalPhotos = photoUrls.length;
        const angle = 360 / totalPhotos;
        const radius = 200; 

        photoUrls.forEach((url, index) => {
            const div = document.createElement('div');
            div.className = 'photo-item';
            div.style.transform = `rotateY(${index * angle}deg) translateZ(${radius}px)`;
            const img = document.createElement('img');
            img.src = url;
            img.onerror = function() { this.src = 'https://via.placeholder.com/140x170?text=Photo'; };
            div.appendChild(img);
            carousel.appendChild(div);
        });

        // Reveal Logic
        const music = document.getElementById('bgMusic');
        const musicBtn = document.getElementById('musicBtn');
        let isPlaying = false;

        function revealBirthday() {
            document.getElementById('boxLid').classList.add('open-lid');
            if(!isPlaying) toggleMusic();

            setTimeout(() => {
                document.getElementById('gift-screen').classList.add('fade-out');
                const mainContent = document.getElementById('main-content');
                mainContent.style.display = 'flex';
                setTimeout(() => {
                    mainContent.style.opacity = '1';
                    setInterval(createHeart, 400);
                }, 50);
            }, 800);
        }

        function toggleMusic() {
            if (isPlaying) { music.pause(); musicBtn.textContent = 'ðŸ”‡'; } 
            else { music.play().catch(e => console.log("Audio play deferred")); musicBtn.textContent = 'ðŸŽµ'; }
            isPlaying = !isPlaying;
        }

        function createHeart() {
            const container = document.getElementById('heartsContainer');
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = 'â¤ï¸';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
            container.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }
    </script>
</body>
</html>
